



contem toda estutura tecnica
como aarquivo de configuração
conexão ao banco de dados, serviço web, modulo npm
tem dependencia de dominio, user cases e estruturas


import { Module } from '@nestjs/common';
import { PessoaModelo } from '../model/pessoa.modelo';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { PessoaEntity } from '../entity/pessoa.entity';
import { PessoaDomain } from 'src/domain/repository/pessoa.repository';

@Module({})
export class PessoaImplements implements PessoaDomain {

    constructor (
        @InjectRepository(PessoaEntity)
        private readonly pessoaRepository : Repository<PessoaEntity>
    ){}

    async insert(pessoa: PessoaModelo): Promise<void> {
      const novo = this.novaPessoa(pessoa);
      await this.pessoaRepository.insert(novo);
    }
    async findAll(): Promise<PessoaModelo[]> {
        const listaPessoa = await this.pessoaRepository.find();
        return  listaPessoa.map((listaPessoa) => this.returnPessoa(listaPessoa));
    }
    findById(id: number): Promise<PessoaModelo> {
        throw new Error('Method not implemented.');
    }
    update(id: number, isDone: boolean): Promise<void> {
        throw new Error('Method not implemented.');
    }
    deleById(id: number): Promise<void> {
        throw new Error('Method not implemented.');
    }


    //insert 
    private novaPessoa(pessoa: PessoaModelo) : PessoaEntity {
        const novo : PessoaEntity = new PessoaEntity();

        novo.id = pessoa.id,
        novo.nome = pessoa.nome,
        novo.endereco = pessoa.endereco

        return novo;
    }

    //Update
    private returnPessoa(pessoa : PessoaModelo) : PessoaEntity{
        const listPessoa : PessoaModelo = new PessoaModelo();

        listPessoa.id = pessoa.id,
        listPessoa.nome = pessoa.nome,
        listPessoa.endereco = pessoa.endereco

        return listPessoa;
    }
}
